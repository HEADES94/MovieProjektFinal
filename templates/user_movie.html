{% extends "base.html" %}

{% block title %}{{ movie.name }} bewerten - MovieProjekt{% endblock %}

{% block content %}
<div class="user-movie-detail-container glass-card fade-in">
    <div class="movie-header">
        <div class="movie-poster">
            <img src="{{ movie.poster }}" alt="{{ movie.name }}">
        </div>
        <div class="movie-info">
            <h1>{{ movie.name }}</h1>
            <div class="movie-meta">
                <span class="year">{{ movie.year }}</span>
                <span class="genre">{{ movie.genre }}</span>
            </div>
            <p class="movie-plot">{{ movie.plot }}</p>
        </div>
    </div>
    <form method="POST" class="modern-form">
        <div class="form-group">
            <label for="user_rating">Deine Bewertung (0-10)</label>
            <input type="number" id="user_rating" name="user_rating" min="0" max="10" step="0.1" value="{{ user_movie.user_rating }}" class="modern-input">
        </div>
        <div class="form-group">
            <label for="user_comment">Kommentar</label>
            <textarea id="user_comment" name="user_comment" rows="2" class="modern-input">{{ user_movie.user_comment }}</textarea>
        </div>
        <div class="form-actions">
            <button type="submit" class="submit-button">
                <span class="submit-icon">✓</span>
                Bewertung speichern
            </button>
            <a href="/users/{{ user.id }}" class="cancel-button">Zurück</a>
        </div>
    </form>
    {% if success %}
    <div class="success-message glass-card">
        <span class="success-icon">✓</span>
        Bewertung gespeichert!
    </div>
    {% endif %}
    {% if error %}
    <div class="error-message glass-card">
        <span class="error-icon">⚠️</span>
        {{ error }}
    </div>
    {% endif %}
</div>
{% endblock %}